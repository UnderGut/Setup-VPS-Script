# üîí Setup VPS Script# üîí Setup VPS Script# üîí Setup VPS Script# üîí Secure VPS Setup



[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

[![Debian](https://img.shields.io/badge/Debian-11+-A81D33?logo=debian)](https://www.debian.org/)

[![Ubuntu](https://img.shields.io/badge/Ubuntu-20.04+-E95420?logo=ubuntu)](https://ubuntu.com/)[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

[![Version](https://img.shields.io/badge/version-0.5--beta-blue.svg)](https://github.com/UnderGut/Setup-VPS-Script)

[![Debian](https://img.shields.io/badge/Debian-11+-A81D33?logo=debian)](https://www.debian.org/)

**–°–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Linux-—Å–µ—Ä–≤–µ—Ä–∞. –°–æ–∑–¥–∞–Ω –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–æ–¥ [Remnawave](https://github.com/remnawave/panel) VPN –ø–∞–Ω–µ–ª–∏.

[![Ubuntu](https://img.shields.io/badge/Ubuntu-20.04+-E95420?logo=ubuntu)](https://ubuntu.com/)[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

üéì **–ö–∞–∂–¥–∞—è –æ–ø—Ü–∏—è —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º** ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —É—á–∏—Ç—Å—è!

[![Version](https://img.shields.io/badge/version-0.5--beta-blue.svg)](https://github.com/UnderGut/setup-vps-script)

[English version](docs/README_EN.md)

[![Debian](https://img.shields.io/badge/Debian-11+-A81D33?logo=debian)](https://www.debian.org/)[![Debian](https://img.shields.io/badge/Debian-11+-A81D33?logo=debian)](https://www.debian.org/)

---

**–°–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Linux-—Å–µ—Ä–≤–µ—Ä–∞. –°–æ–∑–¥–∞–Ω –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–æ–¥ [Remnawave](https://github.com/remnawave/panel) VPN –ø–∞–Ω–µ–ª–∏.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

[![Ubuntu](https://img.shields.io/badge/Ubuntu-20.04+-E95420?logo=ubuntu)](https://ubuntu.com/)[![Ubuntu](https://img.shields.io/badge/Ubuntu-20.04+-E95420?logo=ubuntu)](https://ubuntu.com/)

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |

|---------|----------|üéì **–ö–∞–∂–¥–∞—è –æ–ø—Ü–∏—è —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º** ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —É—á–∏—Ç—Å—è!

| üîê **–ó–∞—â–∏—Ç–∞ SSH** | –°–≤–æ–π –ø–æ—Ä—Ç, —Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏, –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ |

| üß± **–ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä UFW** | –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏ |

| üõ°Ô∏è **Fail2Ban** | 4-—É—Ä–æ–≤–Ω–µ–≤–∞—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–∞–Ω–æ–≤ |

| üöÄ **BBR + TCP** | –ê–ª–≥–æ—Ä–∏—Ç–º Google –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ VPN |[English version](docs/README_EN.md)

| üîí **–ó–∞—â–∏—Ç–∞ —è–¥—Ä–∞** | –ê–Ω—Ç–∏-—Å–ø—É—Ñ–∏–Ω–≥, –∑–∞—â–∏—Ç–∞ –æ—Ç SYN flood |

| üìä **–°–µ—Ç–µ–≤—ã–µ –ª–∏–º–∏—Ç—ã** | –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π conntrack –¥–ª—è VPN —Å–µ—Ä–≤–µ—Ä–æ–≤ |**–°–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Linux-—Å–µ—Ä–≤–µ—Ä–∞. –°–æ–∑–¥–∞–Ω –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–æ–¥ [Remnawave](https://github.com/remnawave/panel) VPN –ø–∞–Ω–µ–ª–∏.**Beginner-friendly** automated security configuration script for Linux servers. Designed for [Remnawave](https://github.com/remnawave/panel) VPN panel node deployment.

| üìù **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤** | –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —Å—Ä–æ–∫–æ–º —Ö—Ä–∞–Ω–µ–Ω–∏—è |

| ‚è∞ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è NTP** | –¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è —á–µ—Ä–µ–∑ chrony |---

| üíæ **Swap —Ñ–∞–π–ª** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å |

| üîÑ **–ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—á–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |

| üê≥ **Docker** | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π |

| üß∞ **–ê–¥–º–∏–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** | htop, ncdu, vnstat, tmux |## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| üö´ **–¢–æ—Ä—Ä–µ–Ω—Ç-–±–ª–æ–∫–µ—Ä** | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ BitTorrent —Ç—Ä–∞—Ñ–∏–∫–∞ |

| üîá **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ ICMP** | –°–∫—Ä—ã—Ç—å—Å—è –æ—Ç ping-—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è |üéì **–ö–∞–∂–¥–∞—è –æ–ø—Ü–∏—è —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º** ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —É—á–∏—Ç—Å—è!üéì **Each option comes with a detailed explanation** ‚Äî perfect for those who are learning!

| üåê **–û—Ç–∫–ª—é—á–µ–Ω–∏–µ IPv6** | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —É—Ç–µ—á–∫–∏ IP |

| üïê **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å** | –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤ –ª–æ–≥–∞—Ö || –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |

| üî• **Rate Limiting** | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è DDoS-–∑–∞—â–∏—Ç–∞ |

| üßπ **–û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã** | –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ apt –∏ tmp —Ñ–∞–π–ª–æ–≤ ||---------|----------|



## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç| üîê **–ó–∞—â–∏—Ç–∞ SSH** | –°–≤–æ–π –ø–æ—Ä—Ç, —Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏, –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ |



### –û–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)| üß± **–ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä UFW** | –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏ |[English version](docs/README_EN.md)[English](#-features) | [–†—É—Å—Å–∫–∏–π](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)



```bash| üõ°Ô∏è **Fail2Ban** | 4-—É—Ä–æ–≤–Ω–µ–≤–∞—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–∞–Ω–æ–≤ |

bash <(curl -fsSL https://raw.githubusercontent.com/UnderGut/Setup-VPS-Script/main/secure-vps-setup.sh)

```| üöÄ **BBR + TCP** | –ê–ª–≥–æ—Ä–∏—Ç–º Google –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ VPN |



### –°–∫–∞—á–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å| üîí **–ó–∞—â–∏—Ç–∞ —è–¥—Ä–∞** | –ê–Ω—Ç–∏-—Å–ø—É—Ñ–∏–Ω–≥, –∑–∞—â–∏—Ç–∞ –æ—Ç SYN flood |



```bash| üìä **–°–µ—Ç–µ–≤—ã–µ –ª–∏–º–∏—Ç—ã** | –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π conntrack –¥–ª—è VPN —Å–µ—Ä–≤–µ—Ä–æ–≤ |------

curl -fsSL https://raw.githubusercontent.com/UnderGut/Setup-VPS-Script/main/secure-vps-setup.sh -o setup.sh

chmod +x setup.sh| üìù **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤** | –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —Å—Ä–æ–∫–æ–º —Ö—Ä–∞–Ω–µ–Ω–∏—è |

./setup.sh

```| ‚è∞ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è NTP** | –¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è —á–µ—Ä–µ–∑ chrony |



## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ| üíæ **Swap —Ñ–∞–π–ª** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å |



### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)| üîÑ **–ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—á–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏## ‚ú® Features



–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏ –æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:| üê≥ **Docker** | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π |



```bash| üß∞ **–ê–¥–º–∏–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** | htop, ncdu, vnstat, tmux |

./setup.sh

```| üö´ **–¢–æ—Ä—Ä–µ–Ω—Ç-–±–ª–æ–∫–µ—Ä** | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ BitTorrent —Ç—Ä–∞—Ñ–∏–∫–∞ |



–°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç –æ:| üîá **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ ICMP** | –°–∫—Ä—ã—Ç—å—Å—è –æ—Ç ping-—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è || –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ || Feature | Description |

- SSH-–ø–æ—Ä—Ç–µ (–ø—Ä–µ–¥–ª–æ–∂–∏—Ç —Å–ª—É—á–∞–π–Ω—ã–π)

- IP-–∞–¥—Ä–µ—Å–∞—Ö –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏| üåê **–û—Ç–∫–ª—é—á–µ–Ω–∏–µ IPv6** | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —É—Ç–µ—á–∫–∏ IP |

- –ó–∞—â–∏—Ç–µ —è–¥—Ä–∞

- –°–µ—Ç–µ–≤—ã—Ö –ª–∏–º–∏—Ç–∞—Ö –¥–ª—è VPN| üïê **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å** | –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤ –ª–æ–≥–∞—Ö ||---------|----------||---------|-------------|

- –†–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤ (—Å—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è)

- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ (NTP)| üî• **Rate Limiting** | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è DDoS-–∑–∞—â–∏—Ç–∞ |

- –ù–∞—Å—Ç—Ä–æ–π–∫–µ Swap

- –ß–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ| üßπ **–û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã** | –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ apt –∏ tmp —Ñ–∞–π–ª–æ–≤ || üîê **–ó–∞—â–∏—Ç–∞ SSH** | –°–≤–æ–π –ø–æ—Ä—Ç, —Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏, –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ || üîê **SSH Hardening** | Custom port, key-only auth, brute-force protection |

- –£—Å—Ç–∞–Ω–æ–≤–∫–µ Docker

- –ó–∞—â–∏—Ç–µ Fail2Ban

- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è—Ö BBR

- –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫–µ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç| üß± **–ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä UFW** | –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏ || üß± **UFW Firewall** | Pre-configured with panel access control |

- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–µ ICMP –∏ IPv6

- Rate Limiting (DDoS-–∑–∞—â–∏—Ç–∞)



### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏### –û–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)| üõ°Ô∏è **Fail2Ban** | 4-—É—Ä–æ–≤–Ω–µ–≤–∞—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–∞–Ω–æ–≤ || üõ°Ô∏è **Fail2Ban** | 4-level progressive ban system |



```bash

./setup.sh [–û–ü–¶–ò–ò]

```bash| üöÄ **BBR + TCP** | –ê–ª–≥–æ—Ä–∏—Ç–º Google –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ VPN || üöÄ **BBR + TCP** | Google's algorithm for faster VPN |

–û–ø—Ü–∏–∏:

  --dry-run           –ü–æ–∫–∞–∑–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—èbash <(curl -fsSL https://raw.githubusercontent.com/UnderGut/setup-vps-script/main/secure-vps-setup.sh)

  --no-color          –û—Ç–∫–ª—é—á–∏—Ç—å —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥

  --no-interactive    –û—Ç–∫–ª—é—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã```| üîí **–ó–∞—â–∏—Ç–∞ —è–¥—Ä–∞** | –ê–Ω—Ç–∏-—Å–ø—É—Ñ–∏–Ω–≥, –∑–∞—â–∏—Ç–∞ –æ—Ç SYN flood || ÔøΩ **Kernel Hardening** | Anti-spoofing, SYN flood protection |

  --lang LANG         –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —è–∑—ã–∫ (en/ru)

  

  --port PORT         –£–∫–∞–∑–∞—Ç—å SSH-–ø–æ—Ä—Ç

  --panel-ips IPS     IP-–∞–¥—Ä–µ—Å–∞ –¥–ª—è –ø–∞–Ω–µ–ª–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é### –°–∫–∞—á–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å| üìä **–°–µ—Ç–µ–≤—ã–µ –ª–∏–º–∏—Ç—ã** | –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π conntrack –¥–ª—è VPN —Å–µ—Ä–≤–µ—Ä–æ–≤ || üìä **Network Limits** | Increased conntrack for VPN servers |

  --panel-port PORT   –ü–æ—Ä—Ç –ø–∞–Ω–µ–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 2222)

  

  --skip-docker       –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É Docker

  --skip-tblocker     –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–æ—Ä—Ä–µ–Ω—Ç-–±–ª–æ–∫–µ—Ä```bash| üìù **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤** | –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —Å—Ä–æ–∫–æ–º —Ö—Ä–∞–Ω–µ–Ω–∏—è || üìù **Log Rotation** | Automatic cleanup with configurable retention |

  --skip-fail2ban     –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å Fail2Ban

  --skip-bbr          –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å BBR –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏curl -fsSL https://raw.githubusercontent.com/UnderGut/setup-vps-script/main/secure-vps-setup.sh -o setup.sh

  --skip-icmp-block   –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É ICMP

  --skip-kernel       –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∑–∞—â–∏—Ç—É —è–¥—Ä–∞chmod +x setup.sh| ‚è∞ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è NTP** | –¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è —á–µ—Ä–µ–∑ chrony || ‚è∞ **NTP Sync** | Time synchronization via chrony |

  --skip-netlimits    –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –ª–∏–º–∏—Ç—ã

  --skip-logrotate    –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤./setup.sh

  --skip-ntp          –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤—Ä–µ–º–µ–Ω–∏

  --log-retention N   –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤ –≤ –¥–Ω—è—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 90)```| üíæ **Swap —Ñ–∞–π–ª** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å || ÔøΩüíæ **Swap Setup** | Auto-configured virtual memory |

  --enable-ratelimit  –í–∫–ª—é—á–∏—Ç—å rate limiting (–≤—ã–∫–ª. –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

  

  -h, --help          –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É

```## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ| üîÑ **–ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—á–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ || üîÑ **Auto-updates** | Automatic security patches |



### –ü—Ä–∏–º–µ—Ä—ã



```bash### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)| üê≥ **Docker** | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π || üê≥ **Docker** | One-click installation |

# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

./setup.sh --dry-run



# –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏ –æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:| üß∞ **–ê–¥–º–∏–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** | htop, ncdu, vnstat, tmux || üß∞ **Admin Tools** | htop, ncdu, vnstat, tmux |

./setup.sh --no-interactive --port 22222 --panel-ips "1.2.3.4,5.6.7.8"



# –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ç–æ–ª—å–∫–æ SSH)

./setup.sh --skip-docker --skip-tblocker --skip-fail2ban --skip-bbr```bash| üö´ **–¢–æ—Ä—Ä–µ–Ω—Ç-–±–ª–æ–∫–µ—Ä** | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ BitTorrent —Ç—Ä–∞—Ñ–∏–∫–∞ || üö´ **Torrent Blocker** | Block BitTorrent traffic |



# –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫./setup.sh

./setup.sh --lang en

``````| üîá **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ ICMP** | –°–∫—Ä—ã—Ç—å—Å—è –æ—Ç ping-—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è || üîá **ICMP Blocking** | Hide from ping scans |



## üõ°Ô∏è –ß—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è



### SSH (`/etc/ssh/sshd_config.d/99-local.conf`)–°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç –æ:| üåê **–û—Ç–∫–ª—é—á–µ–Ω–∏–µ IPv6** | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —É—Ç–µ—á–∫–∏ IP || üåê **Disable IPv6** | Prevent IP leaks |

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–æ—Ä—Ç

- –ü–∞—Ä–æ–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞- SSH-–ø–æ—Ä—Ç–µ (–ø—Ä–µ–¥–ª–æ–∂–∏—Ç —Å–ª—É—á–∞–π–Ω—ã–π)

- –¢–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –∫–ª—é—á—É

- Root-–≤—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á—É- IP-–∞–¥—Ä–µ—Å–∞—Ö –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏| üïê **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å** | –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤ –ª–æ–≥–∞—Ö || üïê **Timezone** | Correct log timestamps |

- –ú–∞–∫—Å–∏–º—É–º 3 –ø–æ–ø—ã—Ç–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

- –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞- –ó–∞—â–∏—Ç–µ —è–¥—Ä–∞



### –ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä UFW- –°–µ—Ç–µ–≤—ã—Ö –ª–∏–º–∏—Ç–∞—Ö –¥–ª—è VPN| üî• **Rate Limiting** | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è DDoS-–∑–∞—â–∏—Ç–∞ || üî• **Rate Limiting** | Optional DDoS protection |

- –ü–æ—Ä—Ç 443 (HTTPS)

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π SSH-–ø–æ—Ä—Ç- –†–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤ (—Å—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è)

- –î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —Ç–æ–ª—å–∫–æ —Å —É–∫–∞–∑–∞–Ω–Ω—ã—Ö IP

- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ (NTP)| üßπ **–û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã** | –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ apt –∏ tmp —Ñ–∞–π–ª–æ–≤ || üßπ **System Cleanup** | Auto cleanup apt cache & temp files |

### Fail2Ban (4 —É—Ä–æ–≤–Ω—è)

- –ù–∞—Å—Ç—Ä–æ–π–∫–µ Swap

| –£—Ä–æ–≤–µ–Ω—å | Jail | –¢—Ä–∏–≥–≥–µ—Ä | –í—Ä–µ–º—è –±–∞–Ω–∞ |

|---------|------|---------|------------|- –ß–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ

| 1 | sshd-softban | 3 –æ—à–∏–±–∫–∏ –∑–∞ 5 –º–∏–Ω | 10 –º–∏–Ω—É—Ç |

| 2 | recidive | 3 –±–∞–Ω–∞ –∑–∞ 24—á | 1 —á–∞—Å |- –£—Å—Ç–∞–Ω–æ–≤–∫–µ Docker

| 3 | sshd-hardban | 10 –æ—à–∏–±–æ–∫ –∑–∞ 24—á | 24 —á–∞—Å–∞ |

| 4 | sshd-permanent | 20 –æ—à–∏–±–æ–∫ –∑–∞ 24—á | –ù–∞–≤—Å–µ–≥–¥–∞ |- –ó–∞—â–∏—Ç–µ Fail2Ban## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç## üöÄ Quick Start



### BBR –∏ TCP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è—Ö BBR

- BBR –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏

- FQ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏- –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫–µ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤

- TCP FastOpen

- –ë–æ–ª—å—à–∏–µ –±—É—Ñ–µ—Ä—ã –¥–ª—è –≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–µ ICMP –∏ IPv6

- MTU probing

- Rate Limiting (DDoS-–∑–∞—â–∏—Ç–∞)### –û–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)### One-liner (recommended)

### –ó–∞—â–∏—Ç–∞ —è–¥—Ä–∞ (`/etc/sysctl.d/99-kernel-hardening.conf`)

- –ó–∞—â–∏—Ç–∞ –æ—Ç IP Spoofing (rp_filter)

- –ó–∞—â–∏—Ç–∞ –æ—Ç SYN flood (syncookies)

- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ ICMP redirects### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ source routing

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ martians (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤)



### –°–µ—Ç–µ–≤—ã–µ –ª–∏–º–∏—Ç—ã (`/etc/sysctl.d/99-netlimits.conf`)```bash```bash```bash

- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —É–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 1M+

- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è VPN –Ω–∞–≥—Ä—É–∑–∫–∏./setup.sh [–û–ü–¶–ò–ò]

- –ê–≤—Ç–æ-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã

bash <(curl -fsSL https://raw.githubusercontent.com/UnderGut/setup-vps-script/main/secure-vps-setup.sh)bash <(curl -fsSL https://raw.githubusercontent.com/YOUR_USERNAME/secure-vps-setup/main/secure-vps-setup.sh)

### –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (`/etc/logrotate.d/`)

- VPN –ª–æ–≥–∏: `/var/log/remnanode/`–û–ø—Ü–∏–∏:

- Auth –ª–æ–≥–∏: `/var/log/auth.log`

- Fail2Ban –ª–æ–≥–∏: `/var/log/fail2ban.log`  --dry-run           –ü–æ–∫–∞–∑–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è``````

- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Å—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 90 –¥–Ω–µ–π)

  --no-color          –û—Ç–∫–ª—é—á–∏—Ç—å —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ NTP (chrony)

- –ù–µ—Å–∫–æ–ª—å–∫–æ NTP –ø—É–ª–æ–≤ –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏  --no-interactive    –û—Ç–∫–ª—é—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

- Google NTP –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤

- –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è TLS/SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤  --lang LANG         –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —è–∑—ã–∫ (en/ru)



## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è  ### –°–∫–∞—á–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å### Download and run



- **–û–°**: Debian 11+ –∏–ª–∏ Ubuntu 20.04+  --port PORT         –£–∫–∞–∑–∞—Ç—å SSH-–ø–æ—Ä—Ç

- **–î–æ—Å—Ç—É–ø**: –ü—Ä–∞–≤–∞ root

- **SSH-–∫–ª—é—á**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `/root/.ssh/authorized_keys` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º  --panel-ips IPS     IP-–∞–¥—Ä–µ—Å–∞ –¥–ª—è –ø–∞–Ω–µ–ª–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é



## ‚ö†Ô∏è –í–∞–∂–Ω–æ  --panel-port PORT   –ü–æ—Ä—Ç –ø–∞–Ω–µ–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 2222)



1. **–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ SSH-–∫–ª—é—á!** –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π –±–µ–∑ –∫–ª—é—á–∞  ```bash```bash

2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–æ–≤—ã–π SSH-–ø–æ—Ä—Ç** ‚Äî –æ–Ω –Ω—É–∂–µ–Ω –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH** –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏  --skip-docker       –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É Docker

4. **–ë—ç–∫–∞–ø—ã** —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `/root/.vps-setup-backups/`

  --skip-tblocker     –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–æ—Ä—Ä–µ–Ω—Ç-–±–ª–æ–∫–µ—Äcurl -fsSL https://raw.githubusercontent.com/UnderGut/setup-vps-script/main/secure-vps-setup.sh -o setup.shcurl -fsSL https://raw.githubusercontent.com/YOUR_USERNAME/secure-vps-setup/main/secure-vps-setup.sh -o setup.sh

## üîß –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

  --skip-fail2ban     –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å Fail2Ban

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSH

```bash  --skip-bbr          –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å BBR –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏chmod +x setup.shchmod +x setup.sh

ss -tuln | grep :–í–ê–®_–ü–û–†–¢

```  --skip-icmp-block   –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É ICMP



### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Fail2Ban  --skip-kernel       –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∑–∞—â–∏—Ç—É —è–¥—Ä–∞./setup.sh./setup.sh

```bash

fail2ban-client status  --skip-netlimits    –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –ª–∏–º–∏—Ç—ã

fail2ban-client status sshd-softban

```  --skip-logrotate    –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤``````



### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å UFW  --skip-ntp          –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤—Ä–µ–º–µ–Ω–∏

```bash

ufw status verbose  --log-retention N   –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤ –≤ –¥–Ω—è—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 90)

```

  --enable-ratelimit  –í–∫–ª—é—á–∏—Ç—å rate limiting (–≤—ã–∫–ª. –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏

```bash  ## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ## üìñ Usage

cat /var/log/vps-setup.log

```  -h, --help          –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É



## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã```



- [Remnawave Panel](https://github.com/remnawave/panel) ‚Äî –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPN

- [Remnawave Node](https://github.com/remnawave/node) ‚Äî VPN –Ω–æ–¥–∞ –¥–ª—è –ø–∞–Ω–µ–ª–∏

- [Xray Torrent Blocker](https://github.com/kutovoys/xray-torrent-blocker) ‚Äî –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–∞—Ñ–∏–∫–∞### –ü—Ä–∏–º–µ—Ä—ã### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)### Interactive Mode (default)



## üìù –õ–∏—Ü–µ–Ω–∑–∏—è



MIT License ‚Äî —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE).```bash



## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π



Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue../setup.sh --dry-run–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏ –æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:Simply run the script and answer the prompts:



---



<p align="center"># –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

  –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ Remnawave

</p>./setup.sh --no-interactive --port 22222 --panel-ips "1.2.3.4,5.6.7.8"


```bash```bash

# –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ç–æ–ª—å–∫–æ SSH)

./setup.sh --skip-docker --skip-tblocker --skip-fail2ban --skip-bbr./secure-vps-setup.sh./secure-vps-setup.sh



# –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫``````

./setup.sh --lang en

```



## üõ°Ô∏è –ß—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è–°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç –æ:The script will ask you about:



### SSH (`/etc/ssh/sshd_config.d/99-local.conf`)- SSH-–ø–æ—Ä—Ç–µ (–ø—Ä–µ–¥–ª–æ–∂–∏—Ç —Å–ª—É—á–∞–π–Ω—ã–π)- SSH port (random suggested)

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–æ—Ä—Ç

- –ü–∞—Ä–æ–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞- IP-–∞–¥—Ä–µ—Å–∞—Ö –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏- Panel IP addresses for firewall rules

- –¢–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –∫–ª—é—á—É

- Root-–≤—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á—É- –ó–∞—â–∏—Ç–µ —è–¥—Ä–∞- Docker installation

- –ú–∞–∫—Å–∏–º—É–º 3 –ø–æ–ø—ã—Ç–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

- –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞- –°–µ—Ç–µ–≤—ã—Ö –ª–∏–º–∏—Ç–∞—Ö –¥–ª—è VPN- Fail2Ban protection



### –ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä UFW- –†–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤ (—Å—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è)- BBR optimizations

- –ü–æ—Ä—Ç 443 (HTTPS)

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π SSH-–ø–æ—Ä—Ç- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ (NTP)- Torrent blocker

- –î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —Ç–æ–ª—å–∫–æ —Å —É–∫–∞–∑–∞–Ω–Ω—ã—Ö IP

- –ù–∞—Å—Ç—Ä–æ–π–∫–µ Swap- ICMP (ping) blocking

### Fail2Ban (4 —É—Ä–æ–≤–Ω—è)

- –ß–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ

| –£—Ä–æ–≤–µ–Ω—å | Jail | –¢—Ä–∏–≥–≥–µ—Ä | –í—Ä–µ–º—è –±–∞–Ω–∞ |

|---------|------|---------|------------|- –£—Å—Ç–∞–Ω–æ–≤–∫–µ Docker### Command Line Options

| 1 | sshd-softban | 3 –æ—à–∏–±–∫–∏ –∑–∞ 5 –º–∏–Ω | 10 –º–∏–Ω—É—Ç |

| 2 | recidive | 3 –±–∞–Ω–∞ –∑–∞ 24—á | 1 —á–∞—Å |- –ó–∞—â–∏—Ç–µ Fail2Ban

| 3 | sshd-hardban | 10 –æ—à–∏–±–æ–∫ –∑–∞ 24—á | 24 —á–∞—Å–∞ |

| 4 | sshd-permanent | 20 –æ—à–∏–±–æ–∫ –∑–∞ 24—á | –ù–∞–≤—Å–µ–≥–¥–∞ |- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è—Ö BBR```bash



### BBR –∏ TCP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏- –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫–µ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤./secure-vps-setup.sh [OPTIONS]

- BBR –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏

- FQ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–µ ICMP –∏ IPv6

- TCP FastOpen

- –ë–æ–ª—å—à–∏–µ –±—É—Ñ–µ—Ä—ã –¥–ª—è –≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π- Rate Limiting (DDoS-–∑–∞—â–∏—Ç–∞)Options:

- MTU probing

  --dry-run           Show changes without applying

### –ó–∞—â–∏—Ç–∞ —è–¥—Ä–∞ (`/etc/sysctl.d/99-kernel-hardening.conf`)

- –ó–∞—â–∏—Ç–∞ –æ—Ç IP Spoofing (rp_filter)### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏  --no-color          Disable colored output

- –ó–∞—â–∏—Ç–∞ –æ—Ç SYN flood (syncookies)

- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ ICMP redirects  --no-interactive    Disable interactive prompts

- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ source routing

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ martians (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤)```bash  --lang LANG         Set language (en/ru)



### –°–µ—Ç–µ–≤—ã–µ –ª–∏–º–∏—Ç—ã (`/etc/sysctl.d/99-netlimits.conf`)./secure-vps-setup.sh [–û–ü–¶–ò–ò]  

- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —É–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 1M+

- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è VPN –Ω–∞–≥—Ä—É–∑–∫–∏  --port PORT         Set custom SSH port

- –ê–≤—Ç–æ-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã

–û–ø—Ü–∏–∏:  --panel-ips IPS     Comma-separated IPs for panel access

### –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (`/etc/logrotate.d/`)

- VPN –ª–æ–≥–∏: `/var/log/remnanode/`  --dry-run           –ü–æ–∫–∞–∑–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è  --panel-port PORT   Panel port (default: 2222)

- Auth –ª–æ–≥–∏: `/var/log/auth.log`

- Fail2Ban –ª–æ–≥–∏: `/var/log/fail2ban.log`  --no-color          –û—Ç–∫–ª—é—á–∏—Ç—å —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥  

- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Å—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 90 –¥–Ω–µ–π)

  --no-interactive    –û—Ç–∫–ª—é—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã  --skip-docker       Skip Docker installation

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ NTP (chrony)

- –ù–µ—Å–∫–æ–ª—å–∫–æ NTP –ø—É–ª–æ–≤ –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏  --lang LANG         –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —è–∑—ã–∫ (en/ru)  --skip-tblocker     Skip Torrent Blocker

- Google NTP –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤

- –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è TLS/SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤    --skip-fail2ban     Skip Fail2Ban



## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è  --port PORT         –£–∫–∞–∑–∞—Ç—å SSH-–ø–æ—Ä—Ç  --skip-bbr          Skip BBR optimizations



- **–û–°**: Debian 11+ –∏–ª–∏ Ubuntu 20.04+  --panel-ips IPS     IP-–∞–¥—Ä–µ—Å–∞ –¥–ª—è –ø–∞–Ω–µ–ª–∏ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é  --skip-icmp-block   Skip ICMP blocking

- **–î–æ—Å—Ç—É–ø**: –ü—Ä–∞–≤–∞ root

- **SSH-–∫–ª—é—á**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `/root/.ssh/authorized_keys` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º  --panel-port PORT   –ü–æ—Ä—Ç –ø–∞–Ω–µ–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 2222)  --skip-kernel       Skip Kernel Hardening



## ‚ö†Ô∏è –í–∞–∂–Ω–æ    --skip-netlimits    Skip Network Limits



1. **–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ SSH-–∫–ª—é—á!** –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π –±–µ–∑ –∫–ª—é—á–∞  --skip-docker       –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É Docker  --skip-logrotate    Skip Log Rotation

2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–æ–≤—ã–π SSH-–ø–æ—Ä—Ç** ‚Äî –æ–Ω –Ω—É–∂–µ–Ω –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH** –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏  --skip-tblocker     –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–æ—Ä—Ä–µ–Ω—Ç-–±–ª–æ–∫–µ—Ä  --skip-ntp          Skip NTP Sync

4. **–ë—ç–∫–∞–ø—ã** —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `/root/.vps-setup-backups/`

  --skip-fail2ban     –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å Fail2Ban  --log-retention N   Log retention period in days (default: 90)

## üîß –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

  --skip-bbr          –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å BBR –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏  --enable-ratelimit  Enable rate limiting (off by default)

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSH

```bash  --skip-icmp-block   –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É ICMP  

ss -tuln | grep :–í–ê–®_–ü–û–†–¢

```  --skip-kernel       –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∑–∞—â–∏—Ç—É —è–¥—Ä–∞  -h, --help          Show help



### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Fail2Ban  --skip-netlimits    –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –ª–∏–º–∏—Ç—ã```

```bash

fail2ban-client status  --skip-logrotate    –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤

fail2ban-client status sshd-softban

```  --skip-ntp          –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤—Ä–µ–º–µ–Ω–∏### Examples



### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å UFW  --log-retention N   –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤ –≤ –¥–Ω—è—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 90)

```bash

ufw status verbose  --enable-ratelimit  –í–∫–ª—é—á–∏—Ç—å rate limiting (–≤—ã–∫–ª. –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)```bash

```

  # Preview what will be changed

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏

```bash  -h, --help          –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É./secure-vps-setup.sh --dry-run

cat /var/log/vps-setup.log

``````



## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã# Full automated setup



- [Remnawave Panel](https://github.com/remnawave/panel) ‚Äî –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPN### –ü—Ä–∏–º–µ—Ä—ã./secure-vps-setup.sh --no-interactive --port 22222 --panel-ips "1.2.3.4,5.6.7.8"

- [Remnawave Node](https://github.com/remnawave/node) ‚Äî VPN –Ω–æ–¥–∞ –¥–ª—è –ø–∞–Ω–µ–ª–∏

- [Xray Torrent Blocker](https://github.com/kutovoys/xray-torrent-blocker) ‚Äî –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–∞—Ñ–∏–∫–∞



## üìù –õ–∏—Ü–µ–Ω–∑–∏—è```bash# Minimal setup (SSH hardening only)



MIT License ‚Äî —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE).# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π./secure-vps-setup.sh --skip-docker --skip-tblocker --skip-fail2ban --skip-bbr



## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ./secure-vps-setup.sh --dry-run



Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue.# Russian language



---# –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞./secure-vps-setup.sh --lang ru



<p align="center">./secure-vps-setup.sh --no-interactive --port 22222 --panel-ips "1.2.3.4,5.6.7.8"```

  –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ Remnawave

</p>


# –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ç–æ–ª—å–∫–æ SSH)## üõ°Ô∏è What Gets Configured

./secure-vps-setup.sh --skip-docker --skip-tblocker --skip-fail2ban --skip-bbr

### SSH (`/etc/ssh/sshd_config.d/99-local.conf`)

# –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫- Custom port (user-defined)

./secure-vps-setup.sh --lang en- Password authentication disabled

```- Key-only authentication

- Root login with key only

## üõ°Ô∏è –ß—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è- Max 3 auth tries

- Client alive interval

### SSH (`/etc/ssh/sshd_config.d/99-local.conf`)

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–æ—Ä—Ç### UFW Firewall

- –ü–∞—Ä–æ–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞- Port 443 (HTTPS)

- –¢–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ –∫–ª—é—á—É- Custom SSH port

- Root-–≤—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á—É- Panel access from specified IPs only

- –ú–∞–∫—Å–∏–º—É–º 3 –ø–æ–ø—ã—Ç–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

- –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞### Fail2Ban (4 levels)



### –ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä UFW| Level | Jail | Trigger | Ban Time |

- –ü–æ—Ä—Ç 443 (HTTPS)|-------|------|---------|----------|

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π SSH-–ø–æ—Ä—Ç| 1 | sshd-softban | 3 failures in 5 min | 10 min |

- –î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —Ç–æ–ª—å–∫–æ —Å —É–∫–∞–∑–∞–Ω–Ω—ã—Ö IP| 2 | recidive | 3 bans in 24h | 1 hour |

| 3 | sshd-hardban | 10 failures in 24h | 24 hours |

### Fail2Ban (4 —É—Ä–æ–≤–Ω—è)| 4 | sshd-permanent | 20 failures in 24h | Forever |



| –£—Ä–æ–≤–µ–Ω—å | Jail | –¢—Ä–∏–≥–≥–µ—Ä | –í—Ä–µ–º—è –±–∞–Ω–∞ |### BBR & TCP Optimizations

|---------|------|---------|------------|- BBR congestion control

| 1 | sshd-softban | 3 –æ—à–∏–±–∫–∏ –∑–∞ 5 –º–∏–Ω | 10 –º–∏–Ω—É—Ç |- FQ queue discipline  

| 2 | recidive | 3 –±–∞–Ω–∞ –∑–∞ 24—á | 1 —á–∞—Å |- TCP FastOpen

| 3 | sshd-hardban | 10 –æ—à–∏–±–æ–∫ –∑–∞ 24—á | 24 —á–∞—Å–∞ |- Large buffers for high-speed connections

| 4 | sshd-permanent | 20 –æ—à–∏–±–æ–∫ –∑–∞ 24—á | –ù–∞–≤—Å–µ–≥–¥–∞ |- MTU probing



### BBR –∏ TCP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏### Kernel Hardening (`/etc/sysctl.d/99-kernel-hardening.conf`)

- BBR –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏- IP Spoofing protection (rp_filter)

- FQ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏- SYN flood protection (syncookies)

- TCP FastOpen- ICMP redirect blocking

- –ë–æ–ª—å—à–∏–µ –±—É—Ñ–µ—Ä—ã –¥–ª—è –≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π- Source routing disabled

- MTU probing- Log martians (invalid addresses)



### –ó–∞—â–∏—Ç–∞ —è–¥—Ä–∞ (`/etc/sysctl.d/99-kernel-hardening.conf`)### Network Limits (`/etc/sysctl.d/99-netlimits.conf`)

- –ó–∞—â–∏—Ç–∞ –æ—Ç IP Spoofing (rp_filter)- Connection tracking increased to 1M+

- –ó–∞—â–∏—Ç–∞ –æ—Ç SYN flood (syncookies)- Optimized timeouts for VPN load

- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ ICMP redirects- Hash size auto-tuning

- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ source routing

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ martians (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤)### Log Rotation (`/etc/logrotate.d/`)

- VPN logs: `/var/log/remnanode/`

### –°–µ—Ç–µ–≤—ã–µ –ª–∏–º–∏—Ç—ã (`/etc/sysctl.d/99-netlimits.conf`)- Auth logs: `/var/log/auth.log`

- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —É–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 1M+- Fail2Ban logs: `/var/log/fail2ban.log`

- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è VPN –Ω–∞–≥—Ä—É–∑–∫–∏- Configurable retention period (default: 90 days)

- –ê–≤—Ç–æ-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã

### NTP Time Sync (chrony)

### –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (`/etc/logrotate.d/`)- Multiple NTP pools for reliability

- VPN –ª–æ–≥–∏: `/var/log/remnanode/`- Google NTP as fallback

- Auth –ª–æ–≥–∏: `/var/log/auth.log`- Required for TLS/SSL certificates

- Fail2Ban –ª–æ–≥–∏: `/var/log/fail2ban.log`

- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Å—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 90 –¥–Ω–µ–π)## üìã Requirements



### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ NTP (chrony)- **OS**: Debian 11+ or Ubuntu 20.04+

- –ù–µ—Å–∫–æ–ª—å–∫–æ NTP –ø—É–ª–æ–≤ –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏- **Access**: Root privileges

- Google NTP –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤- **SSH Key**: Must be in `/root/.ssh/authorized_keys` before running

- –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è TLS/SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

## ‚ö†Ô∏è Important Notes

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Add your SSH key first!** The script will fail if no key is found

- **–û–°**: Debian 11+ –∏–ª–∏ Ubuntu 20.04+2. **Save the new SSH port** ‚Äî you'll need it to reconnect

- **–î–æ—Å—Ç—É–ø**: –ü—Ä–∞–≤–∞ root3. **Test SSH connection** before closing current session

- **SSH-–∫–ª—é—á**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `/root/.ssh/authorized_keys` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º4. **Backup** ‚Äî the script creates backups in `/root/.vps-setup-backups/`



## ‚ö†Ô∏è –í–∞–∂–Ω–æ## üîß Post-Installation



1. **–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ SSH-–∫–ª—é—á!** –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π –±–µ–∑ –∫–ª—é—á–∞### Verify SSH

2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–æ–≤—ã–π SSH-–ø–æ—Ä—Ç** ‚Äî –æ–Ω –Ω—É–∂–µ–Ω –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è```bash

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH** –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ss -tuln | grep :YOUR_PORT

4. **–ë—ç–∫–∞–ø—ã** —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `/root/.vps-setup-backups/````



## üîß –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏### Check Fail2Ban

```bash

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSHfail2ban-client status

```bashfail2ban-client status sshd-softban

ss -tuln | grep :–í–ê–®_–ü–û–†–¢```

```

### Check UFW

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Fail2Ban```bash

```bashufw status verbose

fail2ban-client status```

fail2ban-client status sshd-softban

```### View logs

```bash

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å UFWcat /var/log/vps-setup.log

```bash```

ufw status verbose

```## üîó Related Projects



### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏- [Remnawave Panel](https://github.com/remnawave/panel) ‚Äî VPN management panel

```bash- [Remnawave Node](https://github.com/remnawave/node) ‚Äî VPN node for the panel

cat /var/log/vps-setup.log- [Xray Torrent Blocker](https://github.com/kutovoys/xray-torrent-blocker) ‚Äî Torrent traffic blocker

```

## üìù License

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã

MIT License ‚Äî see [LICENSE](LICENSE) file.

- [Remnawave Panel](https://github.com/remnawave/panel) ‚Äî –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPN

- [Remnawave Node](https://github.com/remnawave/node) ‚Äî VPN –Ω–æ–¥–∞ –¥–ª—è –ø–∞–Ω–µ–ª–∏## ü§ù Contributing

- [Xray Torrent Blocker](https://github.com/kutovoys/xray-torrent-blocker) ‚Äî –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–∞—Ñ–∏–∫–∞

Pull requests are welcome! For major changes, please open an issue first.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

---

MIT License ‚Äî —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE).

# üîí –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPS

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

**–°–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Linux-—Å–µ—Ä–≤–µ—Ä–∞. –°–æ–∑–¥–∞–Ω –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–æ–¥ [Remnawave](https://github.com/remnawave/panel) VPN –ø–∞–Ω–µ–ª–∏.

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue.

üéì **–ö–∞–∂–¥–∞—è –æ–ø—Ü–∏—è —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º** ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —É—á–∏—Ç—Å—è!

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

<p align="center">

  –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ Remnawave| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |

</p>|---------|----------|

| üîê **–ó–∞—â–∏—Ç–∞ SSH** | –°–≤–æ–π –ø–æ—Ä—Ç, —Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏, –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ |
| üß± **–ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä UFW** | –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥–æ—Å—Ç—É–ø–∞ |
| üõ°Ô∏è **Fail2Ban** | 4-—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–∞–Ω–æ–≤ |
| üöÄ **BBR + TCP** | –ê–ª–≥–æ—Ä–∏—Ç–º Google –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ VPN |
| üîí **–ó–∞—â–∏—Ç–∞ —è–¥—Ä–∞** | –ê–Ω—Ç–∏-—Å–ø—É—Ñ–∏–Ω–≥, –∑–∞—â–∏—Ç–∞ –æ—Ç SYN flood |
| üìä **–°–µ—Ç–µ–≤—ã–µ –ª–∏–º–∏—Ç—ã** | –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π conntrack –¥–ª—è VPN |
| üìù **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤** | –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —Å—Ä–æ–∫–æ–º —Ö—Ä–∞–Ω–µ–Ω–∏—è |
| ‚è∞ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è NTP** | –¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è —á–µ—Ä–µ–∑ chrony |
| üíæ **Swap —Ñ–∞–π–ª** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å |
| üîÑ **–ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—á–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |
| üê≥ **Docker** | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π |
| üß∞ **–ê–¥–º–∏–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** | htop, ncdu, vnstat, tmux |
| üö´ **–¢–æ—Ä—Ä–µ–Ω—Ç-–±–ª–æ–∫–µ—Ä** | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ BitTorrent —Ç—Ä–∞—Ñ–∏–∫–∞ |
| üîá **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ ICMP** | –°–∫—Ä—ã—Ç—å—Å—è –æ—Ç ping-—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è |
| üåê **–û—Ç–∫–ª—é—á–µ–Ω–∏–µ IPv6** | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —É—Ç–µ—á–∫–∏ IP |
| üïê **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å** | –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤ –ª–æ–≥–∞—Ö |
| üî• **Rate Limiting** | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è DDoS-–∑–∞—â–∏—Ç–∞ |
| üßπ **–û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã** | –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ apt –∏ tmp —Ñ–∞–π–ª–æ–≤ |

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/YOUR_USERNAME/secure-vps-setup/main/secure-vps-setup.sh)
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏ –æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:

```bash
./secure-vps-setup.sh
```

–°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç –æ:
- SSH-–ø–æ—Ä—Ç–µ (–ø—Ä–µ–¥–ª–æ–∂–∏—Ç —Å–ª—É—á–∞–π–Ω—ã–π)
- IP-–∞–¥—Ä–µ—Å–∞—Ö –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–µ Swap
- –ó–∞—â–∏—Ç–µ —è–¥—Ä–∞
- –°–µ—Ç–µ–≤—ã—Ö –ª–∏–º–∏—Ç–∞—Ö
- –†–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤ (—Å—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ (NTP)
- –ß–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ
- –£—Å—Ç–∞–Ω–æ–≤–∫–µ Docker
- –ó–∞—â–∏—Ç–µ Fail2Ban
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è—Ö BBR
- –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫–µ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–µ ICMP –∏ IPv6
- Rate Limiting (DDoS-–∑–∞—â–∏—Ç–∞)

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ SSH-–∫–ª—é—á!** –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π –±–µ–∑ –∫–ª—é—á–∞
2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–æ–≤—ã–π SSH-–ø–æ—Ä—Ç** ‚Äî –æ–Ω –Ω—É–∂–µ–Ω –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH** –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
4. **–ë—ç–∫–∞–ø—ã** —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ `/root/.vps-setup-backups/`

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°**: Debian 11+ –∏–ª–∏ Ubuntu 20.04+
- **–î–æ—Å—Ç—É–ø**: –ü—Ä–∞–≤–∞ root
- **SSH-–∫–ª—é—á**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `/root/.ssh/authorized_keys`

